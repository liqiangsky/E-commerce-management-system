{"remainingRequest":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Orders.vue?vue&type=style&index=0&id=707b6a7d&lang=less&scoped=true&","dependencies":[{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Orders.vue","mtime":1609319785328},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWwtaW5wdXQgew0KICB3aWR0aDogNTUwcHg7DQp9DQo="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2RA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"orders\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card class=\"m-t-20\">\r\n      <el-input v-model=\"queryinfo.query\" placeholder=\"请输入内容\">\r\n        <el-button\r\n          slot=\"append\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"Orders\"\r\n        ></el-button>\r\n      </el-input>\r\n      <el-table :data=\"tableData\" border class=\"m-t-20\">\r\n        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n        <el-table-column\r\n          label=\"订单编号\"\r\n          prop=\"order_number\"\r\n          width=\"980\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          label=\"订单价格\"\r\n          prop=\"order_price\"\r\n          width=\"100\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"是否付款\" prop=\"order_pay\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              :type=\"scope.row.pay_status === '0' ? 'danger' : 'success'\"\r\n              >{{ scope.row.pay_status === \"0\" ? \"未付款\" : \"已付款\" }}</el-tag\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"是否发货\"\r\n          prop=\"is_send\"\r\n          width=\"100\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"下单时间\" width=\"170\">\r\n          <template slot-scope=\"scope\">{{\r\n            scope.row.create_time | FormatDate\r\n          }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"Operation(scope.row, 'Edit')\"\r\n            ></el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"success\"\r\n              icon=\"el-icon-location\"\r\n              @click=\"Operation(scope.row, 'Location')\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryinfo.pagenum\"\r\n        :page-sizes=\"[5, 10, 20, 30]\"\r\n        :page-size=\"queryinfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        class=\"m-t-20\"\r\n      >\r\n      </el-pagination>\r\n      <el-dialog\r\n        :title=\"title\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"handleClose\"\r\n      >\r\n        <el-form\r\n          ref=\"informationalForm\"\r\n          :model=\"informationalForm\"\r\n          :rules=\"rules\"\r\n          v-if=\"title === '修改地址'\"\r\n        >\r\n          <el-form-item label=\"省市区/县\" prop=\"location\" label-width=\"90px\">\r\n            <el-cascader\r\n              style=\"width: 100%\"\r\n              v-model=\"informationalForm.citys\"\r\n              :options=\"cityOptions\"\r\n              :props=\"props\"\r\n            ></el-cascader>\r\n          </el-form-item>\r\n          <el-form-item label=\"详细地址\" prop=\"address\" label-width=\"90px\">\r\n            <el-input\r\n              v-model=\"informationalForm.address\"\r\n              placeholder=\"请输入详细地址\"\r\n              style=\"width: 100%\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-timeline :reverse=\"reverse\" v-else>\r\n          <el-timeline-item\r\n            v-for=\"(activity, index) in activities\"\r\n            :key=\"index\"\r\n            :timestamp=\"activity.time\"\r\n            :type=\"activity.type\"\r\n          >\r\n            {{ activity.context }}\r\n          </el-timeline-item>\r\n        </el-timeline>\r\n        <span slot=\"footer\" class=\"dialog-footer\" v-show=\"title === '修改地址'\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"dialogVisible = false\"\r\n            >确 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport cityOptions from \"../assets/js/city_data2017_element\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      title: \"\",\r\n      tableData: [],\r\n      total: 0,\r\n      queryinfo: {\r\n        query: \"\",\r\n        pagenum: 1,\r\n        pagesize: 5,\r\n        user_id: \"\",\r\n        pay_status: \"\",\r\n        is_send: \"\",\r\n        order_fapiao_title: \"\",\r\n        order_fapiao_company: \"\",\r\n        order_fapiao_content: \"\",\r\n        consignee_addr: \"\",\r\n      },\r\n      cityOptions: cityOptions,\r\n      props: {\r\n        label: \"label\",\r\n        value: \"value\",\r\n        children: \"children\",\r\n        expandTrigger: \"hover\",\r\n      },\r\n      type: \"\",\r\n      message: \"\",\r\n      informationalForm: {\r\n        citys: [],\r\n        address: \"\",\r\n      },\r\n      rules: {\r\n        location: [\r\n          { required: true, message: \"请选择具体城市\", trigger: \"blur\" },\r\n        ],\r\n        address: [\r\n          { required: true, message: \"请输入详细地址\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      reverse: false,\r\n      activities: [\r\n        {\r\n          time: \"2018-05-10 09:39:00\",\r\n          ftime: \"2018-05-10 09:39:00\",\r\n          context: \"已签收,感谢使用顺丰,期待再次为您服务\",\r\n          location: \"\",\r\n          type:'success'\r\n        },\r\n        {\r\n          time: \"2018-05-10 08:23:00\",\r\n          ftime: \"2018-05-10 08:23:00\",\r\n          context:\r\n            \"[北京市]北京海淀育新小区营业点派件员 顺丰速运 95338正在为您派件\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-10 07:32:00\",\r\n          ftime: \"2018-05-10 07:32:00\",\r\n          context: \"快件到达 [北京海淀育新小区营业点]\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-10 02:03:00\",\r\n          ftime: \"2018-05-10 02:03:00\",\r\n          context:\r\n            \"快件在[北京顺义集散中心]已装车,准备发往 [北京海淀育新小区营业点]\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-09 23:05:00\",\r\n          ftime: \"2018-05-09 23:05:00\",\r\n          context: \"快件到达 [北京顺义集散中心]\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-09 21:21:00\",\r\n          ftime: \"2018-05-09 21:21:00\",\r\n          context: \"快件在[北京宝胜营业点]已装车,准备发往 [北京顺义集散中心]\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-09 13:07:00\",\r\n          ftime: \"2018-05-09 13:07:00\",\r\n          context: \"顺丰速运 已收取快件\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-09 12:25:03\",\r\n          ftime: \"2018-05-09 12:25:03\",\r\n          context: \"卖家发货\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-09 12:22:24\",\r\n          ftime: \"2018-05-09 12:22:24\",\r\n          context: \"您的订单将由HLA（北京海淀区清河中街店）门店安排发货。\",\r\n          location: \"\",\r\n        },\r\n        {\r\n          time: \"2018-05-08 21:36:04\",\r\n          ftime: \"2018-05-08 21:36:04\",\r\n          context: \"商品已经下单\",\r\n          location: \"\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.Orders();\r\n  },\r\n  methods: {\r\n    async Orders() {\r\n      const res = await this.$http.get(\"orders\", {\r\n        params: this.queryinfo,\r\n      });\r\n      if (res.meta.status == 200) {\r\n        this.tableData = [];\r\n        this.total = 0;\r\n        this.tableData = res.data.goods;\r\n        this.total = res.data.total;\r\n        this.type = \"success\";\r\n        this.message = \"获取订单列表成功！\";\r\n      } else {\r\n        this.type = \"error\";\r\n        this.message = \"获取订单列表失败！\";\r\n      }\r\n      this.$message({\r\n        type: this.type,\r\n        message: this.message,\r\n      });\r\n    },\r\n    async Operation(row, type) {\r\n      this.dialogVisible = true;\r\n      switch (type) {\r\n        case \"Edit\":\r\n          this.title = \"修改地址\";\r\n          break;\r\n        case \"Location\":\r\n          this.title = \"物流进度\";\r\n          const res = await this.$http.get(`/kuaidi/${1106975712662}`);\r\n          break;\r\n      }\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryinfo.pagesize = val;\r\n      this.Orders();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryinfo.pagenum = val;\r\n      this.Orders();\r\n    },\r\n    handleClose() {\r\n      this.informationalForm.citys = [];\r\n      this.$refs.informationalForm.resetFields();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-input {\r\n  width: 550px;\r\n}\r\n</style>"]}]}