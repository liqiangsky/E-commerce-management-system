{"remainingRequest":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Categories.vue","mtime":1609240065037},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgcXVlcnlpbmZvOiB7DQogICAgICAgIHR5cGU6IDMsDQogICAgICAgIHBhZ2VudW06IDEsDQogICAgICAgIHBhZ2VzaXplOiA1LA0KICAgICAgfSwNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICB0b3RhbDogMCwNCiAgICAgIHR5cGU6ICIiLA0KICAgICAgbWVzc2FnZTogIiIsDQogICAgICB0aXRsZTogIiIsDQogICAgICBzZWxlY3RlZEtleXM6IFtdLA0KICAgICAgY2F0ZWdvcmllc0Zvcm06IHsNCiAgICAgICAgY2F0X25hbWU6ICIiLA0KICAgICAgICBjYXRfcGlkOiAwLA0KICAgICAgICBjYXRfbGV2ZWw6IDAsDQogICAgICB9LA0KICAgICAgY2F0X2lkOiAiIiwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIGNhdF9uYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWIhuexu+WQjeensCIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICAgIG9wdGlvbnM6IFtdLA0KICAgICAgcHJvcHM6IHsNCiAgICAgICAgY2hlY2tTdHJpY3RseTogdHJ1ZSwNCiAgICAgICAgbGFiZWw6ICJjYXRfbmFtZSIsDQogICAgICAgIHZhbHVlOiAiY2F0X2lkIiwNCiAgICAgICAgY2hpbGRyZW46ICJjaGlsZHJlbiIsDQogICAgICB9LA0KICAgICAgbW9kZTogIiIsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLkNhdGVnb3JpZXMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIENhdGVnb3JpZXMoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldChgY2F0ZWdvcmllc2AsIHsNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5aW5mbywNCiAgICAgIH0pOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgdGhpcy50eXBlID0gInN1Y2Nlc3MiOw0KICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi6I635Y+W5ZWG5ZOB5YiG57G75oiQ5Yqf77yBIjsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZXN1bHQ7DQogICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudHlwZSA9ICJlcnJvciI7DQogICAgICAgIHRoaXMubWVzc2FnZSA9ICLojrflj5bllYblk4HliIbnsbvlpLHotKXvvIEiOw0KICAgICAgfQ0KICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgIHR5cGU6IHRoaXMudHlwZSwNCiAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBPcGVyYXRpb24ocm93LCB0eXBlKSB7DQogICAgICBzd2l0Y2ggKHR5cGUpIHsNCiAgICAgICAgY2FzZSAiQWRkIjoNCiAgICAgICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOWIhuexuyI7DQogICAgICAgICAgdGhpcy5tb2RlID0gdHlwZTsNCiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiY2F0ZWdvcmllcyIsIHsNCiAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICB0eXBlOiAyLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzLmRhdGE7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIkVkaXQiOg0KICAgICAgICAgIHRoaXMudGl0bGUgPSAi57yW6L6R5YiG57G7IjsNCiAgICAgICAgICB0aGlzLm1vZGUgPSB0eXBlOw0KICAgICAgICAgIHRoaXMuY2F0ZWdvcmllc0Zvcm0uY2F0X25hbWUgPSByb3cuY2F0X25hbWU7DQogICAgICAgICAgdGhpcy5jYXRfaWQgPSByb3cuY2F0X2lkOw0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIkRlbGV0ZSI6DQogICAgICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZGVsZXRlKGBjYXRlZ29yaWVzLyR7cm93LmNhdF9pZH1gKTsNCiAgICAgICAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAic3VjY2VzcyI7DQogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuWIoOmZpOaIkOWKn++8gSI7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeWluZm8ucGFnZW51bSA9IHRoaXMucXVlcnlpbmZvLnBhZ2VudW0gLSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLkNhdGVnb3JpZXMoKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAiZXJyb3IiOw0KICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJlcnJvciI7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojliKDpmaQiLA0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlQ2hhbmdlKHZhbCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5jYXRlZ29yaWVzRm9ybS5jYXRfcGlkID0gdGhpcy5zZWxlY3RlZEtleXNbDQogICAgICAgICAgdGhpcy5zZWxlY3RlZEtleXMubGVuZ3RoIC0gMQ0KICAgICAgICBdOw0KICAgICAgICB0aGlzLmNhdGVnb3JpZXNGb3JtLmNhdF9sZXZlbCA9IHRoaXMuc2VsZWN0ZWRLZXlzLmxlbmd0aDsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jYXRlZ29yaWVzRm9ybS5jYXRfcGlkID0gMDsNCiAgICAgICAgdGhpcy5jYXRlZ29yaWVzRm9ybS5jYXRfbGV2ZWwgPSAwOw0KICAgICAgfQ0KICAgIH0sDQogICAgU3VibWl0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7DQogICAgICAgICAgICBjYXNlICJBZGQiOg0KICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoDQogICAgICAgICAgICAgICAgYGNhdGVnb3JpZXNgLA0KICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllc0Zvcm0NCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyA9PSAyMDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAic3VjY2VzcyI7DQogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIua3u+WKoOWIhuexu+aIkOWKn++8gSI7DQogICAgICAgICAgICAgICAgdGhpcy5DYXRlZ29yaWVzKCk7DQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy50eXBlID0gImVycm9yIjsNCiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5re75Yqg5YiG57G75aSx6LSl77yBIjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgIkVkaXQiOg0KICAgICAgICAgICAgICBjb25zdCByZXMxID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoYGNhdGVnb3JpZXMvJHt0aGlzLmNhdF9pZH1gLCB7DQogICAgICAgICAgICAgICAgY2F0X25hbWU6IHRoaXMuY2F0ZWdvcmllc0Zvcm0uY2F0X25hbWUsDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICBpZiAocmVzMS5tZXRhLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAic3VjY2VzcyI7DQogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOWIhuexu+WQjeensOaIkOWKn++8gSI7DQogICAgICAgICAgICAgICAgdGhpcy5DYXRlZ29yaWVzKCk7DQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy50eXBlID0gImVycm9yIjsNCiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw5YiG57G75ZCN56ew5aSx6LSl77yBIjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy50eXBlID0gImVycm9yIjsNCiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi6K+35YWI5oyJ6KaB5rGC5aGr5YaZ5L+h5oGv77yBIjsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLA0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucXVlcnlpbmZvLnBhZ2VzaXplID0gdmFsOw0KICAgICAgdGhpcy5DYXRlZ29yaWVzKCk7DQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5xdWVyeWluZm8ucGFnZW51bSA9IHZhbDsNCiAgICAgIHRoaXMuQ2F0ZWdvcmllcygpOw0KICAgIH0sDQogICAgaGFuZGVsQ2xvc2UoKSB7DQogICAgICB0aGlzLmNhdGVnb3JpZXNGb3JtLmNhdF9uYW1lID0gIiI7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Categories.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"categories\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card class=\"m-t-20\">\r\n      <el-button type=\"primary\" @click=\"Operation('', 'Add')\"\r\n        >添加分类</el-button\r\n      >\r\n      <el-table\r\n        class=\"m-t-20\"\r\n        :data=\"tableData\"\r\n        border\r\n        row-key=\"cat_id\"\r\n        :tree-props=\"{ children: 'children' }\"\r\n      >\r\n        <el-table-column label=\"#\" type=\"index\" width=\"50\"> </el-table-column>\r\n        <el-table-column label=\"分类名称\" prop=\"cat_name\"> </el-table-column>\r\n        <el-table-column label=\"是否有效\">\r\n          <i class=\"el-icon-success\" style=\"color: lightgreen\"></i>\r\n        </el-table-column>\r\n        <el-table-column label=\"排序\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-show=\"scope.row.cat_level === 0\" type=\"danger\"\r\n              >一级</el-tag\r\n            >\r\n            <el-tag v-show=\"scope.row.cat_level === 1\" type=\"success\"\r\n              >二级</el-tag\r\n            >\r\n            <el-tag v-show=\"scope.row.cat_level === 2\" type=\"warning\"\r\n              >三级</el-tag\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"Operation(scope.row, 'Edit')\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"Operation(scope.row, 'Delete')\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryinfo.pagenum\"\r\n        :page-sizes=\"[5, 10, 20, 30]\"\r\n        :page-size=\"queryinfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        class=\"m-t-20\"\r\n      >\r\n      </el-pagination>\r\n      <el-dialog\r\n        :title=\"title\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"50%\"\r\n        @closed=\"handelClose\"\r\n      >\r\n        <el-form\r\n          ref=\"categoriesForm\"\r\n          :model=\"categoriesForm\"\r\n          :rules=\"rules\"\r\n          label-width=\"80px\"\r\n        >\r\n          <div v-show=\"title === '添加分类'\">\r\n            <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n              <el-input v-model=\"categoriesForm.cat_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"父级分类\">\r\n              <el-cascader\r\n                v-model=\"selectedKeys\"\r\n                expand-trigger=\"hover\"\r\n                :options=\"options\"\r\n                :props=\"props\"\r\n                clearable\r\n                style=\"width: 100%\"\r\n                @change=\"handleChange\"\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </div>\r\n          <el-form-item label=\"分类名称\" v-show=\"title === '编辑分类'\">\r\n            <el-input v-model=\"categoriesForm.cat_name\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"SubmitForm('categoriesForm')\"\r\n            >确 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      queryinfo: {\r\n        type: 3,\r\n        pagenum: 1,\r\n        pagesize: 5,\r\n      },\r\n      tableData: [],\r\n      total: 0,\r\n      type: \"\",\r\n      message: \"\",\r\n      title: \"\",\r\n      selectedKeys: [],\r\n      categoriesForm: {\r\n        cat_name: \"\",\r\n        cat_pid: 0,\r\n        cat_level: 0,\r\n      },\r\n      cat_id: \"\",\r\n      rules: {\r\n        cat_name: [\r\n          { required: true, message: \"请输入分类名称\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      options: [],\r\n      props: {\r\n        checkStrictly: true,\r\n        label: \"cat_name\",\r\n        value: \"cat_id\",\r\n        children: \"children\",\r\n      },\r\n      mode: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.Categories();\r\n  },\r\n  methods: {\r\n    async Categories() {\r\n      const res = await this.$http.get(`categories`, {\r\n        params: this.queryinfo,\r\n      });\r\n      if (res.meta.status == 200) {\r\n        this.type = \"success\";\r\n        this.message = \"获取商品分类成功！\";\r\n        this.tableData = res.data.result;\r\n        this.total = res.data.total;\r\n      } else {\r\n        this.type = \"error\";\r\n        this.message = \"获取商品分类失败！\";\r\n      }\r\n      this.$message({\r\n        type: this.type,\r\n        message: this.message,\r\n      });\r\n    },\r\n    async Operation(row, type) {\r\n      switch (type) {\r\n        case \"Add\":\r\n          this.title = \"添加分类\";\r\n          this.mode = type;\r\n          const res = await this.$http.get(\"categories\", {\r\n            params: {\r\n              type: 2,\r\n            },\r\n          });\r\n          if (res.meta.status == 200) {\r\n            this.options = res.data;\r\n          }\r\n          this.dialogVisible = true;\r\n          break;\r\n        case \"Edit\":\r\n          this.title = \"编辑分类\";\r\n          this.mode = type;\r\n          this.categoriesForm.cat_name = row.cat_name;\r\n          this.cat_id = row.cat_id;\r\n          this.dialogVisible = true;\r\n          break;\r\n        case \"Delete\":\r\n          this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\",\r\n          })\r\n            .then(async () => {\r\n              const res = await this.$http.delete(`categories/${row.cat_id}`);\r\n              if (res.meta.status == 200) {\r\n                this.type = \"success\";\r\n                this.message = \"删除成功！\";\r\n                if (this.tableData.length === 1) {\r\n                  this.queryinfo.pagenum = this.queryinfo.pagenum - 1;\r\n                }\r\n                this.Categories();\r\n              } else {\r\n                this.type = \"error\";\r\n                this.message = \"error\";\r\n              }\r\n              this.$message({\r\n                type: this.type,\r\n                message: this.message,\r\n              });\r\n            })\r\n            .catch(() => {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: \"已取消删除\",\r\n              });\r\n            });\r\n          break;\r\n      }\r\n    },\r\n    handleChange(val) {\r\n      if (this.selectedKeys.length > 0) {\r\n        this.categoriesForm.cat_pid = this.selectedKeys[\r\n          this.selectedKeys.length - 1\r\n        ];\r\n        this.categoriesForm.cat_level = this.selectedKeys.length;\r\n        return;\r\n      } else {\r\n        this.categoriesForm.cat_pid = 0;\r\n        this.categoriesForm.cat_level = 0;\r\n      }\r\n    },\r\n    SubmitForm(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          switch (this.mode) {\r\n            case \"Add\":\r\n              const res = await this.$http.post(\r\n                `categories`,\r\n                this.categoriesForm\r\n              );\r\n              if (res.meta.status == 201) {\r\n                this.type = \"success\";\r\n                this.message = \"添加分类成功！\";\r\n                this.Categories();\r\n                this.dialogVisible = false;\r\n              } else {\r\n                this.type = \"error\";\r\n                this.message = \"添加分类失败！\";\r\n              }\r\n              break;\r\n            case \"Edit\":\r\n              const res1 = await this.$http.put(`categories/${this.cat_id}`, {\r\n                cat_name: this.categoriesForm.cat_name,\r\n              });\r\n              if (res1.meta.status == 200) {\r\n                this.type = \"success\";\r\n                this.message = \"更新分类名称成功！\";\r\n                this.Categories();\r\n                this.dialogVisible = false;\r\n              } else {\r\n                this.type = \"error\";\r\n                this.message = \"更新分类名称失败！\";\r\n              }\r\n              break;\r\n          }\r\n        } else {\r\n          this.type = \"error\";\r\n          this.message = \"请先按要求填写信息！\";\r\n        }\r\n        this.$message({\r\n          type: this.type,\r\n          message: this.message,\r\n        });\r\n      });\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryinfo.pagesize = val;\r\n      this.Categories();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryinfo.pagenum = val;\r\n      this.Categories();\r\n    },\r\n    handelClose() {\r\n      this.categoriesForm.cat_name = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n</style>"]}]}