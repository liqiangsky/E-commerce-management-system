{"remainingRequest":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\babel-loader\\lib\\index.js!D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Goods_add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\src\\components\\Goods_add.vue","mtime":1608295471597},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\我的git\\E-commerce-management-system\\dianshangsystem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjIxMVx1NzY4NGdpdC9FLWNvbW1lcmNlLW1hbmFnZW1lbnQtc3lzdGVtL2RpYW5zaGFuZ3N5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBVcFVybDogImh0dHA6Ly90aW1lbWVldHlvdS5jb206ODg4OS9hcGkvcHJpdmF0ZS92MS91cGxvYWQiLAogICAgICB1cmw6ICIiLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuCiAgICAgIH0sCiAgICAgIGFjdGl2ZTogIjAiLAogICAgICB0eXBlOiAiIiwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIEluZm9ybWF0aW9uRm9ybTogewogICAgICAgIGdvb2RzX25hbWU6ICIiLAogICAgICAgIGdvb2RzX2NhdDogIiIsCiAgICAgICAgZ29vZHNfcHJpY2U6IDAsCiAgICAgICAgZ29vZHNfbnVtYmVyOiAwLAogICAgICAgIGdvb2RzX3dlaWdodDogMCwKICAgICAgICBnb29kc19pbnRyb2R1Y2U6ICIiLAogICAgICAgIHBpY3M6IFtdLAogICAgICAgIGF0dHJzOiBbXQogICAgICB9LAogICAgICBNYW55YXR0cnM6IFtdLAogICAgICBPbmx5YXR0cnM6IFtdLAogICAgICBHb29kc19jYXQ6IFtdLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgcHJvcHM6IHsKICAgICAgICBleHBhbmRUcmlnZ2VyOiAiaG92ZXIiLAogICAgICAgIGxhYmVsOiAiY2F0X25hbWUiLAogICAgICAgIHZhbHVlOiAiY2F0X2lkIiwKICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGdvb2RzX25hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXllYblk4HlkI3np7AiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfY2F0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5ZWG5ZOB5YiG57G7IiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfcHJpY2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXllYblk4Hku7fmoLwiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfbnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5ZWG5ZOB5pWw6YePIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGdvb2RzX3dlaWdodDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWVhuWTgemHjemHjyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuR29vZHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIEdvb2RzOiBmdW5jdGlvbiBHb29kcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoImNhdGVnb3JpZXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBDYXRlZ29yaWVzOiBmdW5jdGlvbiBDYXRlZ29yaWVzKGFjdGl2ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IGFjdGl2ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gX2NvbnRleHQyLnQwID09PSAiMSIgPyA0IDogX2NvbnRleHQyLnQwID09PSAiMiIgPyA4IDogMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5nZXQoImNhdGVnb3JpZXMvIi5jb25jYXQoX3RoaXMyLmNhdGVpZCwgIi9hdHRyaWJ1dGVzIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgc2VsOiAibWFueSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5nZXQoImNhdGVnb3JpZXMvIi5jb25jYXQoX3RoaXMyLmNhdGVpZCwgIi9hdHRyaWJ1dGVzIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgc2VsOiAib25seSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDEyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5tZXRhLnN0YXR1cyA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgaXRlbS5hdHRyX3ZhbHMgPSBpdGVtLmF0dHJfdmFscy5sZW5ndGggPT09IDAgPyBbXSA6IGl0ZW0uYXR0cl92YWxzLnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IGFjdGl2ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gX2NvbnRleHQyLnQxID09PSAiMSIgPyAxNyA6IF9jb250ZXh0Mi50MSA9PT0gIjIiID8gMjIgOiAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMyLk1hbnlhdHRycyA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMyLk1hbnlhdHRycyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLnR5cGUgPSAic3VjY2VzcyI7CiAgICAgICAgICAgICAgICBfdGhpczIubWVzc2FnZSA9ICLojrflj5bliqjmgIHlj4LmlbDmiJDlip/vvIEiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMjcpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3RoaXMyLk9ubHlhdHRycyA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMyLk9ubHlhdHRycyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLnR5cGUgPSAic3VjY2VzcyI7CiAgICAgICAgICAgICAgICBfdGhpczIubWVzc2FnZSA9ICLojrflj5bpnZnmgIHlj4LmlbDmiJDlip/vvIEiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMjcpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX3RoaXMyLnR5cGUgPSAiZXJyb3IiOwogICAgICAgICAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSAiZXJyb3IiOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXMyLnR5cGUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMi5tZXNzYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgQXR0cjogZnVuY3Rpb24gQXR0cihhdHRycywgYXJyKSB7CiAgICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgYXR0cl9pZDogZWxlbWVudC5hdHRyX2lkLAogICAgICAgICAgYXR0cl92YWx1ZTogZWxlbWVudC5hdHRyX3ZhbHMuam9pbigiICIpCiAgICAgICAgfTsKICAgICAgICBhcnIucHVzaChvYmopOwogICAgICB9KTsKICAgIH0sCiAgICBTdWJtaXRGb3JtOiBmdW5jdGlvbiBTdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5JbmZvcm1hdGlvbkZvcm0uYXR0cnMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMy5JbmZvcm1hdGlvbkZvcm0uZ29vZHNfY2F0ID0gX3RoaXMzLkdvb2RzX2NhdC5qb2luKCIsIik7CgogICAgICAgICAgICAgICAgX3RoaXMzLkF0dHIoX3RoaXMzLk1hbnlhdHRycywgX3RoaXMzLkluZm9ybWF0aW9uRm9ybS5hdHRycyk7CgogICAgICAgICAgICAgICAgX3RoaXMzLkF0dHIoX3RoaXMzLk9ubHlhdHRycywgX3RoaXMzLkluZm9ybWF0aW9uRm9ybS5hdHRycyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kaHR0cC5wb3N0KCJnb29kcyIsIF90aGlzMy5JbmZvcm1hdGlvbkZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzID09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvZ29vZHMiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy50eXBlID0gInN1Y2Nlc3MiOwogICAgICAgICAgICAgICAgICBfdGhpczMubWVzc2FnZSA9IHJlcy5tZXRhLm1zZzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50eXBlID0gImVycm9yIjsKICAgICAgICAgICAgICAgICAgX3RoaXMzLm1lc3NhZ2UgPSByZXMubWV0YS5tc2c7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXMzLnR5cGUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMy5tZXNzYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgQmVmb3JlTGVhdmVUYWI6IGZ1bmN0aW9uIEJlZm9yZUxlYXZlVGFiKGFjdGl2ZW5hbWUsIG9sZGFjdGl2ZW5hbWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAob2xkYWN0aXZlbmFtZSA9PT0gIjAiKSB7CiAgICAgICAgdGhpcy4kcmVmcy5JbmZvcm1hdGlvbkZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcigi6K+35YWI5oyJ6KaB5rGC5aGr5YaZ5L+h5oGv77yBIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChvbGRhY3RpdmVuYW1lID09PSAiMCIgJiYgdGhpcy5Hb29kc19jYXQubGVuZ3RoICE9PSAzIHx8IHRoaXMuSW5mb3JtYXRpb25Gb3JtLmdvb2RzX25hbWUgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoK2FjdGl2ZW5hbWUgPT09IDEgfHwgK2FjdGl2ZW5hbWUgPT09IDIpIHRoaXMuQ2F0ZWdvcmllcyhhY3RpdmVuYW1lKTsKICAgIH0sCiAgICBPblN1Y2Nlc3M6IGZ1bmN0aW9uIE9uU3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKHJlc3BvbnNlLm1ldGEuc3RhdHVzID09IDIwMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuWbvueJh+aaguWtmOaIkOWKn++8gSIKICAgICAgICB9KTsKICAgICAgICB0aGlzLkluZm9ybWF0aW9uRm9ybS5waWNzLnB1c2gocmVzcG9uc2UuZGF0YS50bXBfcGF0aCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLkluZm9ybWF0aW9uRm9ybS5waWNzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBmaWxlLnJlc3BvbnNlLmRhdGEudG1wX3BhdGggPT09IGl0ZW07CiAgICAgIH0pOwogICAgICB0aGlzLkluZm9ybWF0aW9uRm9ybS5waWNzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgaGFuZGxlUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMudXJsID0gZmlsZS5yZXNwb25zZS5kYXRhLnVybDsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICB0aGlzLkdvb2RzX2NhdCA9IHZhbHVlOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhdGVpZDogZnVuY3Rpb24gY2F0ZWlkKCkgewogICAgICBpZiAodGhpcy5Hb29kc19jYXQubGVuZ3RoID09PSAzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuR29vZHNfY2F0WzJdOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Goods_add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"goods_add\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品列表</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card class=\"m-t-20\">\r\n      <el-alert title=\"添加商品信息\" type=\"info\" center show-icon> </el-alert>\r\n      <el-steps\r\n        :active=\"+active\"\r\n        align-center\r\n        finish-status=\"success\"\r\n        space=\"150px\"\r\n        class=\"m-30\"\r\n      >\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n      </el-steps>\r\n      <el-form\r\n        ref=\"InformationForm\"\r\n        :model=\"InformationForm\"\r\n        :rules=\"rules\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          v-loading=\"loading\"\r\n          v-model=\"active\"\r\n          tab-position=\"left\"\r\n          :before-leave=\"BeforeLeaveTab\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input v-model=\"InformationForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input\r\n                type=\"number\"\r\n                v-model=\"InformationForm.goods_price\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input\r\n                type=\"number\"\r\n                v-model=\"InformationForm.goods_weight\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n              <el-input\r\n                type=\"number\"\r\n                v-model=\"InformationForm.goods_number\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n              <el-cascader\r\n                v-model=\"InformationForm.goods_cat\"\r\n                :options=\"options\"\r\n                :props=\"props\"\r\n                @change=\"handleChange\"\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <el-form-item\r\n              v-for=\"item in Manyattrs\"\r\n              :key=\"item.attr_id + item.attr_name\"\r\n              :label=\"item.attr_name\"\r\n            >\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox\r\n                  v-for=\"i in item.attr_vals\"\r\n                  :key=\"i + Math.random()\"\r\n                  :label=\"i\"\r\n                  border\r\n                ></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <el-form-item\r\n              v-for=\"item in Onlyattrs\"\r\n              :key=\"item.attr_id + item.attr_name\"\r\n              :label=\"item.attr_name\"\r\n            >\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox\r\n                  v-for=\"i in item.attr_vals\"\r\n                  :key=\"i + Math.random()\"\r\n                  :label=\"i\"\r\n                  border\r\n                ></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <el-upload\r\n              :action=\"UpUrl\"\r\n              list-type=\"picture\"\r\n              class=\"upload-demo\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"OnSuccess\"\r\n              :headers=\"headers\"\r\n            >\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <quill-editor\r\n              class=\"quill-editor\"\r\n              v-model=\"InformationForm.goods_introduce\"\r\n            >\r\n            </quill-editor>\r\n            <el-button type=\"primary\" class=\"m-t-20\" @click=\"SubmitForm\"\r\n              >添加商品</el-button\r\n            >\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n      <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n        <el-image style=\"width: 100%; height: 100%\" :src=\"url\"> </el-image>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      UpUrl: \"http://timemeetyou.com:8889/api/private/v1/upload\",\r\n      url: \"\",\r\n      headers: {\r\n        Authorization: window.sessionStorage.token,\r\n      },\r\n      active: \"0\",\r\n      type: \"\",\r\n      message: \"\",\r\n      InformationForm: {\r\n        goods_name: \"\",\r\n        goods_cat: \"\",\r\n        goods_price: 0,\r\n        goods_number: 0,\r\n        goods_weight: 0,\r\n        goods_introduce: \"\",\r\n        pics: [],\r\n        attrs: [],\r\n      },\r\n      Manyattrs: [],\r\n      Onlyattrs: [],\r\n      Goods_cat: [],\r\n      options: [],\r\n      props: {\r\n        expandTrigger: \"hover\",\r\n        label: \"cat_name\",\r\n        value: \"cat_id\",\r\n        children: \"children\",\r\n      },\r\n      rules: {\r\n        goods_name: [\r\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" },\r\n        ],\r\n        goods_cat: [\r\n          { required: true, message: \"请选择商品分类\", trigger: \"change\" },\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" },\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: \"请输入商品数量\", trigger: \"blur\" },\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.Goods();\r\n  },\r\n  methods: {\r\n    async Goods() {\r\n      const res = await this.$http.get(\"categories\");\r\n      if (res.meta.status == 200) {\r\n        this.options = res.data;\r\n      }\r\n    },\r\n    async Categories(active) {\r\n      this.loading = true;\r\n      switch (active) {\r\n        case \"1\":\r\n          var res = await this.$http.get(\r\n            `categories/${this.cateid}/attributes`,\r\n            {\r\n              params: {\r\n                sel: \"many\",\r\n              },\r\n            }\r\n          );\r\n          break;\r\n        case \"2\":\r\n          var res = await this.$http.get(\r\n            `categories/${this.cateid}/attributes`,\r\n            {\r\n              params: {\r\n                sel: \"only\",\r\n              },\r\n            }\r\n          );\r\n          break;\r\n      }\r\n      if (res.meta.status == 200) {\r\n        res.data.forEach((item) => {\r\n          item.attr_vals =\r\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\" \");\r\n        });\r\n        switch (active) {\r\n          case \"1\":\r\n            this.Manyattrs = [];\r\n            this.Manyattrs = res.data;\r\n            this.type = \"success\";\r\n            this.message = \"获取动态参数成功！\";\r\n            break;\r\n          case \"2\":\r\n            this.Onlyattrs = [];\r\n            this.Onlyattrs = res.data;\r\n            this.type = \"success\";\r\n            this.message = \"获取静态参数成功！\";\r\n            break;\r\n        }\r\n      } else {\r\n        this.type = \"error\";\r\n        this.message = \"error\";\r\n      }\r\n      this.$message({\r\n        type: this.type,\r\n        message: this.message,\r\n      });\r\n      this.loading = false;\r\n    },\r\n    Attr(attrs, arr) {\r\n      attrs.forEach((element) => {\r\n        const obj = {\r\n          attr_id: element.attr_id,\r\n          attr_value: element.attr_vals.join(\" \"),\r\n        };\r\n        arr.push(obj);\r\n      });\r\n    },\r\n    async SubmitForm() {\r\n      this.InformationForm.attrs = [];\r\n      this.InformationForm.goods_cat = this.Goods_cat.join(\",\");\r\n      this.Attr(this.Manyattrs, this.InformationForm.attrs);\r\n      this.Attr(this.Onlyattrs, this.InformationForm.attrs);\r\n      const res = await this.$http.post(\"goods\", this.InformationForm);\r\n      if (res.meta.status == 201) {\r\n        this.$router.push(\"/goods\");\r\n        this.type = \"success\";\r\n        this.message = res.meta.msg;\r\n      } else {\r\n        this.type = \"error\";\r\n        this.message = res.meta.msg;\r\n      }\r\n      this.$message({\r\n        type: this.type,\r\n        message: this.message,\r\n      });\r\n    },\r\n    BeforeLeaveTab(activename, oldactivename) {\r\n      if (oldactivename === \"0\") {\r\n        this.$refs.InformationForm.validate((valid) => {\r\n          if (!valid) {\r\n            this.$message.error(\"请先按要求填写信息！\");\r\n          }\r\n        });\r\n      }\r\n      if (\r\n        (oldactivename === \"0\" && this.Goods_cat.length !== 3) ||\r\n        this.InformationForm.goods_name === \"\"\r\n      ) {\r\n        return false;\r\n      }\r\n      if (+activename === 1 || +activename === 2) this.Categories(activename);\r\n    },\r\n    OnSuccess(response, file, fileList) {\r\n      if (response.meta.status == 200) {\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"图片暂存成功！\",\r\n        });\r\n        this.InformationForm.pics.push(response.data.tmp_path);\r\n      }\r\n    },\r\n    handleRemove(file, fileList) {\r\n      const index = this.InformationForm.pics.findIndex((item) => {\r\n        return file.response.data.tmp_path === item;\r\n      });\r\n      this.InformationForm.pics.splice(index, 1);\r\n    },\r\n    handlePreview(file) {\r\n      this.dialogVisible = true;\r\n      this.url = file.response.data.url;\r\n    },\r\n    handleChange(value) {\r\n      this.Goods_cat = value;\r\n    },\r\n  },\r\n  computed: {\r\n    cateid() {\r\n      if (this.Goods_cat.length === 3) {\r\n        return this.Goods_cat[2];\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.ql-editor {\r\n  min-height: 300px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}